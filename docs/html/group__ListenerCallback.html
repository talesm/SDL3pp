<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3pp: Listener callback</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SDL3pp
   </div>
   <div id="projectbrief">A slim C++ wrapper for SDL3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Listener callback<div class="ingroups"><a class="el" href="group__DesignNotes.html">Design notes</a> &raquo; <a class="el" href="group__callback.html">Callback</a> &raquo; <a class="el" href="group__AsyncCallback.html">Delayed callback</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Listener callback is invoked multiple times whenever the event it subscripted happens.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga89729782789df28788240517ea5b82be" id="r_ga89729782789df28788240517ea5b82be"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ListenerCallback.html#ga89729782789df28788240517ea5b82be">SDL::EventFilterFunction</a> = std::function&lt; bool(const <a class="el" href="group__CategoryEvents.html#ga89256e35005c550c3dea4f9d694c674a">Event</a> &amp;)&gt;</td></tr>
<tr class="memdesc:ga89729782789df28788240517ea5b82be"><td class="mdescLeft">&#160;</td><td class="mdescRight">A std::function used for callbacks that watch the event queue.  <br /></td></tr>
<tr class="separator:ga89729782789df28788240517ea5b82be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5ad81a70c2b9073fe5b77819ffa977c6" id="r_ga5ad81a70c2b9073fe5b77819ffa977c6"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ListenerCallback.html#ga5ad81a70c2b9073fe5b77819ffa977c6">SDL::SetEventFilter</a> (<a class="el" href="group__ListenerCallback.html#ga89729782789df28788240517ea5b82be">EventFilterFunction</a> filter={})</td></tr>
<tr class="memdesc:ga5ad81a70c2b9073fe5b77819ffa977c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a filter to process all events before they are added to the internal event queue.  <br /></td></tr>
<tr class="separator:ga5ad81a70c2b9073fe5b77819ffa977c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a29f41f5e9608270f7241d1ef8392ca" id="r_ga6a29f41f5e9608270f7241d1ef8392ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ListenerCallback.html#ga6a29f41f5e9608270f7241d1ef8392ca">SDL::WindowBase&lt; T &gt;::SetHitTest</a> (<a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">HitTestFunction</a> callback)</td></tr>
<tr class="memdesc:ga6a29f41f5e9608270f7241d1ef8392ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a callback that decides if a window region has special properties.  <br /></td></tr>
<tr class="separator:ga6a29f41f5e9608270f7241d1ef8392ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Callbacks for WindowBase::SetHitTest()</h2></td></tr>
<tr class="memitem:ga876ef260b3a07cbebc869191f56331bc" id="r_ga876ef260b3a07cbebc869191f56331bc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">SDL::HitTestFunction</a> = std::function&lt; <a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e">HitTestResult</a>(<a class="el" href="group__CategoryVideo.html#ga42069207012bd44674fe1677bd5a1066">WindowRef</a> window, const <a class="el" href="structSDL_1_1Point.html">Point</a> &amp;area)&gt;</td></tr>
<tr class="memdesc:ga876ef260b3a07cbebc869191f56331bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback used for hit-testing.  <br /></td></tr>
<tr class="separator:ga876ef260b3a07cbebc869191f56331bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Listener callback is invoked multiple times whenever the event it subscripted happens. </p>
<p>It's not safe to free memory after call, so a separate mechanism must be provided.</p>
<p>When there is a single listener per program, like SetEventFilter(), you we can use UniqueWrapper, which makes sure only a single one per type exists.</p>
<p>When there can be just a single callback listening per resource we can use KeyValueWrapper with a Resource pointer as key. An example of this technique is in WindowBase::SetHitTest(HitTestFunction). We need to make sure we call KeyValueWrapper.erase() on the equivalent <code>*.Destroy()</code> function, again the example is WindowBase::Destroy(). </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga89729782789df28788240517ea5b82be" name="ga89729782789df28788240517ea5b82be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89729782789df28788240517ea5b82be">&#9670;&#160;</a></span>EventFilterFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__ListenerCallback.html#ga89729782789df28788240517ea5b82be">SDL::EventFilterFunction</a> = typedef std::function&lt;bool(const <a class="el" href="group__CategoryEvents.html#ga89256e35005c550c3dea4f9d694c674a">Event</a>&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A std::function used for callbacks that watch the event queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event that triggered the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true to permit event to be added to the queue, and false to disallow it. When used with <a class="el" href="group__CategoryEvents.html#ga9336b4a3c5cd2d4bdddedeac94e4232e" title="Add a callback to be triggered when an event is added to the event queue.">AddEventWatch()</a>, the return value is ignored.</dd></dl>
<dl class="section user"><dt>Thread safety:</dt><dd><a class="el" href="namespaceSDL.html" title="the main namespace where all SDL3pp public functions and types live">SDL</a> may call this callback at any time from any thread; the application is responsible for locking resources the callback touches that need to be protected.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This datatype is available since <a class="el" href="namespaceSDL.html" title="the main namespace where all SDL3pp public functions and types live">SDL</a> 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#gab04b0a4b2342c07abe0bcb79e6b91869" title="Set up a filter to process all events before they are added to the internal event queue.">SetEventFilter()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga9336b4a3c5cd2d4bdddedeac94e4232e" title="Add a callback to be triggered when an event is added to the event queue.">AddEventWatch()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga32cb19c6685bf30697726b3efde06ab0" title="A function pointer used for callbacks that watch the event queue.">EventFilter</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__events_8h_source.html#l01516">1516</a> of file <a class="el" href="SDL3pp__events_8h_source.html">SDL3pp_events.h</a>.</p>

</div>
</div>
<a id="ga876ef260b3a07cbebc869191f56331bc" name="ga876ef260b3a07cbebc869191f56331bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga876ef260b3a07cbebc869191f56331bc">&#9670;&#160;</a></span>HitTestFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">SDL::HitTestFunction</a> = typedef std::function&lt;<a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e">HitTestResult</a>(<a class="el" href="group__CategoryVideo.html#ga42069207012bd44674fe1677bd5a1066">WindowRef</a> window, const <a class="el" href="structSDL_1_1Point.html">Point</a>&amp; area)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback used for hit-testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">win</td><td>the WindowRef where hit-testing was set on. </td></tr>
    <tr><td class="paramname">area</td><td>a <a class="el" href="structSDL_1_1Point.html" title="The structure that defines a point (using integers)">Point</a> const reference which should be hit-tested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an <a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e" title="Possible return values from the HitTest callback.">SDL::HitTestResult</a> value.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CategoryVideo.html#ga40b63d64944c40a9ac2b889887376955" title="Callback used for hit-testing.">HitTest</a> </dd>
<dd>
<a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__video_8h_source.html#l00290">290</a> of file <a class="el" href="SDL3pp__video_8h_source.html">SDL3pp_video.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5ad81a70c2b9073fe5b77819ffa977c6" name="ga5ad81a70c2b9073fe5b77819ffa977c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ad81a70c2b9073fe5b77819ffa977c6">&#9670;&#160;</a></span>SetEventFilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto SDL::SetEventFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ListenerCallback.html#ga89729782789df28788240517ea5b82be">EventFilterFunction</a>&#160;</td>
          <td class="paramname"><em>filter</em> = <code>{}</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up a filter to process all events before they are added to the internal event queue. </p>
<p>If you just want to see events without modifying them or preventing them from being queued, you should use SDL_AddEventWatch() instead.</p>
<p>If the filter function returns true when called, then the event will be added to the internal queue. If it returns false, then the event will be dropped from the queue, but the internal state will still be updated. This allows selective filtering of dynamically arriving events.</p>
<p><b>WARNING</b>: Be very careful of what you do in the event filter function, as it may run in a different thread!</p>
<p>On platforms that support it, if the quit event is generated by an interrupt signal (e.g. pressing Ctrl-C), it will be delivered to the application at the next event poll.</p>
<p>Note: Disabled events never make it to the event filter function; see SDL_SetEventEnabled().</p>
<p>Note: Events pushed onto the queue with SDL_PushEvent() get passed through the event filter, but events pushed onto the queue with SDL_PeepEvents() do not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>an EventFilterFunction function to call when an event happens.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread safety:</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since <a class="el" href="namespaceSDL.html" title="the main namespace where all SDL3pp public functions and types live">SDL</a> 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga9336b4a3c5cd2d4bdddedeac94e4232e" title="Add a callback to be triggered when an event is added to the event queue.">AddEventWatch()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga883f6ae88fa5628490ff69fb9e2fc8e5" title="Set the state of processing events by type.">SetEventEnabled()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga274cf6de4be1b4faf2d734e868fa9f73" title="Query the current event filter.">GetEventFilter()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#ga0e103a11dbf53ae31c10a6ca48c2e3fa" title="Check the event queue for messages and optionally return them.">PeepEvents()</a> </dd>
<dd>
<a class="el" href="group__CategoryEvents.html#gad0f4b7bfbf9a30e32b78da8824beb576" title="Add an event to the event queue.">PushEvent()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__events_8h_source.html#l01604">1604</a> of file <a class="el" href="SDL3pp__events_8h_source.html">SDL3pp_events.h</a>.</p>

</div>
</div>
<a id="ga6a29f41f5e9608270f7241d1ef8392ca" name="ga6a29f41f5e9608270f7241d1ef8392ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a29f41f5e9608270f7241d1ef8392ca">&#9670;&#160;</a></span>SetHitTest()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;ObjectBox&lt; SDL_Window * &gt; T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structSDL_1_1WindowBase.html">SDL::WindowBase</a>&lt; T &gt;::SetHitTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">HitTestFunction</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide a callback that decides if a window region has special properties. </p>
<p>Normally windows are dragged and resized by decorations provided by the system window manager (a title bar, borders, etc), but for some apps, it makes sense to drag them from somewhere else inside the window itself; for example, one might have a borderless window that wants to be draggable from any part, or simulate its own title bar, etc.</p>
<p>This function lets the app provide a callback that designates pieces of a given window as special. This callback is run during event processing if we need to tell the OS to treat a region of the window specially; the use of this callback is known as "hit testing."</p>
<p>Mouse input may not be delivered to your application if it is within a special area; the OS will often apply that input to moving the window or resizing the window and not deliver it to the application.</p>
<p>Specifying NULL for a callback disables hit-testing. Hit-testing is disabled by default.</p>
<p>Platforms that don't support this functionality will return false unconditionally, even if you're attempting to disable hit-testing.</p>
<p>Your callback may fire at any time, and its firing does not indicate any specific behavior (for example, on Windows, this certainly might fire when the OS is deciding whether to drag your window, but it fires for lots of other reasons, too, some unrelated to anything you probably care about <em>and when the mouse isn't actually at the location it is testing</em>). Since this can fire at any time, you should try to keep your callback efficient, devoid of allocations, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>the function to call when doing a hit-test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or false on failure; call <a class="el" href="group__CategoryError.html#ga6daa473f21fd59c14bce134abce9bd04" title="Retrieve a message about the last error that occurred on the current thread.">GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread safety:</dt><dd>This function should only be called on the main thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since <a class="el" href="structSDL_1_1SDL.html" title="Initialize the SDL library.">SDL</a> 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__video_8h_source.html#l02517">2517</a> of file <a class="el" href="SDL3pp__video_8h_source.html">SDL3pp_video.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
