<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3pp: Listener callback</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SDL3pp
   </div>
   <div id="projectbrief">A slim C++ wrapper for SDL3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Listener callback<div class="ingroups"><a class="el" href="group__DesignNotes.html">Design notes</a> &raquo; <a class="el" href="group__callback.html">Callback</a> &raquo; <a class="el" href="group__AsyncCallback.html">Delayed callback</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Listener callback is invoked multiple times whenever the event it subscripted happens.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6a29f41f5e9608270f7241d1ef8392ca" id="r_ga6a29f41f5e9608270f7241d1ef8392ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ListenerCallback.html#ga6a29f41f5e9608270f7241d1ef8392ca">SDL::WindowBase&lt; T &gt;::SetHitTest</a> (<a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">HitTestFunction</a> callback)</td></tr>
<tr class="memdesc:ga6a29f41f5e9608270f7241d1ef8392ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a callback that decides if a window region has special properties.  <br /></td></tr>
<tr class="separator:ga6a29f41f5e9608270f7241d1ef8392ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Callbacks for WindowBase::SetHitTest()</h2></td></tr>
<tr class="memitem:ga876ef260b3a07cbebc869191f56331bc" id="r_ga876ef260b3a07cbebc869191f56331bc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">SDL::HitTestFunction</a> = std::function&lt; <a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e">HitTestResult</a>(<a class="el" href="group__CategoryVideo.html#ga42069207012bd44674fe1677bd5a1066">WindowRef</a> window, const <a class="el" href="structSDL_1_1Point.html">Point</a> &amp;area)&gt;</td></tr>
<tr class="memdesc:ga876ef260b3a07cbebc869191f56331bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback used for hit-testing.  <br /></td></tr>
<tr class="separator:ga876ef260b3a07cbebc869191f56331bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Listener callback is invoked multiple times whenever the event it subscripted happens. </p>
<p>It's not safe to free memory after call, so a separate mechanism must be provided.</p>
<p>When there can be just a single callback listening per resource we can use KeyValueWrapper with a Resource pointer as key. An example of this technique is in WindowBase::SetHitTest(HitTestFunction). We need to make sure we call KeyValueWrapper.erase() on the equivalent <code>*.Destroy()</code> function, again the example is WindowBase::Destroy(). </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga876ef260b3a07cbebc869191f56331bc" name="ga876ef260b3a07cbebc869191f56331bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga876ef260b3a07cbebc869191f56331bc">&#9670;&#160;</a></span>HitTestFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">SDL::HitTestFunction</a> = typedef std::function&lt;<a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e">HitTestResult</a>(<a class="el" href="group__CategoryVideo.html#ga42069207012bd44674fe1677bd5a1066">WindowRef</a> window, const <a class="el" href="structSDL_1_1Point.html">Point</a>&amp; area)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback used for hit-testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">win</td><td>the WindowRef where hit-testing was set on. </td></tr>
    <tr><td class="paramname">area</td><td>a <a class="el" href="structSDL_1_1Point.html" title="The structure that defines a point (using integers)">Point</a> const reference which should be hit-tested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an <a class="el" href="group__CategoryVideo.html#ga676fed3c1276d6935267644c61b2ab0e" title="Possible return values from the HitTest callback.">SDL::HitTestResult</a> value.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__CategoryVideo.html#ga40b63d64944c40a9ac2b889887376955" title="Callback used for hit-testing.">HitTest</a> </dd>
<dd>
<a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__video_8h_source.html#l00290">290</a> of file <a class="el" href="SDL3pp__video_8h_source.html">SDL3pp_video.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6a29f41f5e9608270f7241d1ef8392ca" name="ga6a29f41f5e9608270f7241d1ef8392ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a29f41f5e9608270f7241d1ef8392ca">&#9670;&#160;</a></span>SetHitTest()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;ObjectBox&lt; SDL_Window * &gt; T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structSDL_1_1WindowBase.html">SDL::WindowBase</a>&lt; T &gt;::SetHitTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CategoryVideo.html#ga876ef260b3a07cbebc869191f56331bc">HitTestFunction</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide a callback that decides if a window region has special properties. </p>
<p>Normally windows are dragged and resized by decorations provided by the system window manager (a title bar, borders, etc), but for some apps, it makes sense to drag them from somewhere else inside the window itself; for example, one might have a borderless window that wants to be draggable from any part, or simulate its own title bar, etc.</p>
<p>This function lets the app provide a callback that designates pieces of a given window as special. This callback is run during event processing if we need to tell the OS to treat a region of the window specially; the use of this callback is known as "hit testing."</p>
<p>Mouse input may not be delivered to your application if it is within a special area; the OS will often apply that input to moving the window or resizing the window and not deliver it to the application.</p>
<p>Specifying NULL for a callback disables hit-testing. Hit-testing is disabled by default.</p>
<p>Platforms that don't support this functionality will return false unconditionally, even if you're attempting to disable hit-testing.</p>
<p>Your callback may fire at any time, and its firing does not indicate any specific behavior (for example, on Windows, this certainly might fire when the OS is deciding whether to drag your window, but it fires for lots of other reasons, too, some unrelated to anything you probably care about <em>and when the mouse isn't actually at the location it is testing</em>). Since this can fire at any time, you should try to keep your callback efficient, devoid of allocations, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>the function to call when doing a hit-test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or false on failure; call <a class="el" href="group__CategoryError.html#ga6daa473f21fd59c14bce134abce9bd04" title="Retrieve a message about the last error that occurred on the current thread.">GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread safety:</dt><dd>This function should only be called on the main thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since <a class="el" href="structSDL_1_1SDL.html" title="Initialize the SDL library.">SDL</a> 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ListenerCallback.html" title="Listener callback is invoked multiple times whenever the event it subscripted happens.">Listener callback</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SDL3pp__video_8h_source.html#l02517">2517</a> of file <a class="el" href="SDL3pp__video_8h_source.html">SDL3pp_video.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
