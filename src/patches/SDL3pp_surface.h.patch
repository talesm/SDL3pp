19c19
<  * @defgroup CategorySurface Category Surface
---
>  * @defgroup CategorySurface Surface Creation and Simple Drawing
92c92
< constexpr bool MUSTLOCK(SurfaceParam S) { return SDL_MUSTLOCK(S); }
---
> constexpr bool MUSTLOCK(SurfaceParam S) { return SDL_MUSTLOCK((S.value)); }
150a151,152
>  * @cat resource
>  *
153,154d154
<  *
<  * @cat resource
178,179c178
<    * @param width the width of the surface.
<    * @param height the height of the surface.
---
>    * @param size the width and height of the surface.
192c191
<     : m_resource(SDL_CreateSurface(size, format))
---
>     : m_resource(SDL_CreateSurface(size.x, size.y, format))
209,210c208
<    * @param width the width of the surface.
<    * @param height the height of the surface.
---
>    * @param size the width and height of the surface.
225c223
<     : m_resource(SDL_CreateSurfaceFrom(size, format, pixels, pitch))
---
>     : m_resource(SDL_CreateSurfaceFrom(size.x, size.y, format, pixels, pitch))
251c249
<     return Surface(SDL_LoadBMP_IO(src));
---
>     return Surface(SDL_LoadBMP_IO(src, false));
1809,1812d1806
< #endif // SDL_VERSION_ATLEAST(3, 2, 6)
< 
< #if SDL_VERSION_ATLEAST(3, 2, 6)
< 
2057c2051
< inline Surface LockSurface(SurfaceParam surface)
---
> inline void LockSurface(SurfaceParam surface)
2059c2053
<   return Surface(CheckError(SDL_LockSurface(surface)));
---
>   CheckError(SDL_LockSurface(surface));
2097c2091
< inline Surface LoadBMP_IO(IOStreamParam src, bool closeio)
---
> inline Surface LoadBMP_IO(IOStreamParam src, bool closeio = false)
2144c2138,2140
< inline void SaveBMP_IO(SurfaceParam surface, IOStreamParam dst, bool closeio)
---
> inline void SaveBMP_IO(SurfaceParam surface,
>                        IOStreamParam dst,
>                        bool closeio = false)
2936c2932
<   static_assert(false, "Not implemented");
---
>   BlitSurface(src, srcrect, dst, SDL_Rect{dstpos.x, dstpos.y});
3343c3339
<   CheckError(SDL_ReadSurfacePixel(surface, p, r, g, b, a));
---
>   CheckError(SDL_ReadSurfacePixel(surface, p.x, p.y, r, g, b, a));
3376c3372
<   CheckError(SDL_ReadSurfacePixelFloat(surface, p, r, g, b, a));
---
>   CheckError(SDL_ReadSurfacePixelFloat(surface, p.x, p.y, r, g, b, a));
3405c3401
<   CheckError(SDL_WriteSurfacePixel(surface, p, c));
---
>   CheckError(SDL_WriteSurfacePixel(surface, p.x, p.y, c.r, c.g, c.b, c.a));
3431c3427
<   CheckError(SDL_WriteSurfacePixelFloat(surface, p, c));
---
>   CheckError(SDL_WriteSurfacePixelFloat(surface, p.x, p.y, c.r, c.g, c.b, c.a));
