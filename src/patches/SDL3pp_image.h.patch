4d3
< #include <SDL3/SDL_image.h>
10a10,18
> #if !defined(SDL3PP_DISABLE_IMAGE) && !defined(SDL3PP_ENABLE_IMAGE) &&         \
>   __has_include(<SDL3_image/SDL_image.h>)
> #define SDL3PP_ENABLE_IMAGE
> #endif
> 
> #if defined(SDL3PP_ENABLE_IMAGE) || defined(SDL3PP_DOC)
> 
> #include <SDL3_image/SDL_image.h>
> 
14c22
<  * @defgroup CategorySDLImage Category SDLImage
---
>  * @defgroup CategorySDLImage Load images from several formats
52,53c60,67
< /// Printable format: "%d.%d.%d", MAJOR, MINOR, MICRO
< #define SDL_IMAGE_MAJOR_VERSION 3
---
> #ifdef SDL3PP_DOC
> 
> /**
>  * @name Image version
>  * @{
>  * Printable format: "%d.%d.%d", MAJOR, MINOR, MICRO
>  */
> #define SDL_IMAGE_MAJOR_VERSION
55c69
< #define SDL_IMAGE_MINOR_VERSION 2
---
> #define SDL_IMAGE_MINOR_VERSION
57c71
< #define SDL_IMAGE_MICRO_VERSION 5
---
> #define SDL_IMAGE_MICRO_VERSION
59c73,77
< /// This is the version number macro for the current SDL_image version.
---
> /// @}
> 
> /**
>  * This is the version number macro for the current SDL_image version.
>  */
72a91,92
> #endif // SDL3PP_DOC
> 
82c102
< inline int Version();
---
> inline int Version() { return IMG_Version(); }
86,87d105
< inline int IMG::Version() { return SDL::Version(); }
< 
132,134d149
<  * When done with the returned surface, the app should dispose of it with a
<  * call to Surface.Destroy().
<  *
152c167
<   return IMG_LoadTyped_IO(src, closeio, type);
---
>   return Surface(IMG_LoadTyped_IO(src, closeio, type));
184,188d198
<  * When done with the returned surface, the app should dispose of it with a
<  * call to
<  * [Surface.Destroy](https://wiki.libsdl.org/SDL3/Surface.Destroy)
<  * ().
<  *
198c208
< inline Surface LoadSurface(StringParam file) { return IMG_Load(file); }
---
> inline Surface LoadSurface(StringParam file) { return Surface(IMG_Load(file)); }
238,240d247
<  * When done with the returned surface, the app should dispose of it with a
<  * call to Surface.Destroy().
<  *
252c259
< inline Surface LoadSurface(IOStreamParam src, bool closeio)
---
> inline Surface LoadSurface(IOStreamParam src, bool closeio = false)
254c261
<   return IMG_Load_IO(src, closeio);
---
>   return Surface(IMG_Load_IO(src, closeio));
286,290d292
<  * When done with the returned surface, the app should dispose of it with a
<  * call to
<  * [Surface.Destroy](https://wiki.libsdl.org/SDL3/Surface.Destroy)
<  * ().
<  *
343,345d344
<  * When done with the returned surface, the app should dispose of it with a
<  * call to Surface.Destroy().
<  *
383,385d381
<  * When done with the returned texture, the app should dispose of it with a
<  * call to Texture.Destroy().
<  *
397c393
<   return IMG_LoadTexture(renderer, file);
---
>   return Texture(IMG_LoadTexture(renderer, file));
430,432d425
<  * When done with the returned texture, the app should dispose of it with a
<  * call to Texture.Destroy().
<  *
447c440
<                            bool closeio)
---
>                            bool closeio = false)
449c442
<   return IMG_LoadTexture_IO(renderer, src, closeio);
---
>   return Texture(IMG_LoadTexture_IO(renderer, src, closeio));
473,475d465
<  * When done with the returned texture, the app should dispose of it with a
<  * call to Texture.Destroy().
<  *
520,522d509
<  * When done with the returned texture, the app should dispose of it with a
<  * call to Texture.Destroy().
<  *
576,578d562
<  * When done with the returned texture, the app should dispose of it with a
<  * call to Texture.Destroy().
<  *
590d573
<  * @sa Texture.Texture
598c581
<   return IMG_LoadTextureTyped_IO(renderer, src, closeio, type);
---
>   return Texture(IMG_LoadTextureTyped_IO(renderer, src, closeio, type));
1408c1391,1394
< inline Surface LoadAVIF(IOStreamParam src) { return IMG_LoadAVIF_IO(src); }
---
> inline Surface LoadAVIF(IOStreamParam src)
> {
>   return Surface(IMG_LoadAVIF_IO(src));
> }
1442c1428,1431
< inline Surface LoadICO(IOStreamParam src) { return IMG_LoadICO_IO(src); }
---
> inline Surface LoadICO(IOStreamParam src)
> {
>   return Surface{IMG_LoadICO_IO(src)};
> }
1476c1465,1468
< inline Surface LoadCUR(IOStreamParam src) { return IMG_LoadCUR_IO(src); }
---
> inline Surface LoadCUR(IOStreamParam src)
> {
>   return Surface{IMG_LoadCUR_IO(src)};
> }
1510c1502,1505
< inline Surface LoadBMP(IOStreamParam src) { return IMG_LoadBMP_IO(src); }
---
> inline Surface LoadBMP(IOStreamParam src)
> {
>   return Surface{IMG_LoadBMP_IO(src)};
> }
1544c1539,1542
< inline Surface LoadGIF(IOStreamParam src) { return IMG_LoadGIF_IO(src); }
---
> inline Surface LoadGIF(IOStreamParam src)
> {
>   return Surface{IMG_LoadGIF_IO(src)};
> }
1578c1576,1579
< inline Surface LoadJPG(IOStreamParam src) { return IMG_LoadJPG_IO(src); }
---
> inline Surface LoadJPG(IOStreamParam src)
> {
>   return Surface{IMG_LoadJPG_IO(src)};
> }
1612c1613,1616
< inline Surface LoadJXL(IOStreamParam src) { return IMG_LoadJXL_IO(src); }
---
> inline Surface LoadJXL(IOStreamParam src)
> {
>   return Surface{IMG_LoadJXL_IO(src)};
> }
1646c1650,1653
< inline Surface LoadLBM(IOStreamParam src) { return IMG_LoadLBM_IO(src); }
---
> inline Surface LoadLBM(IOStreamParam src)
> {
>   return Surface{IMG_LoadLBM_IO(src)};
> }
1680c1687,1690
< inline Surface LoadPCX(IOStreamParam src) { return IMG_LoadPCX_IO(src); }
---
> inline Surface LoadPCX(IOStreamParam src)
> {
>   return Surface{IMG_LoadPCX_IO(src)};
> }
1714c1724,1727
< inline Surface LoadPNG(IOStreamParam src) { return IMG_LoadPNG_IO(src); }
---
> inline Surface LoadPNG(IOStreamParam src)
> {
>   return Surface{IMG_LoadPNG_IO(src)};
> }
1748c1761,1764
< inline Surface LoadPNM(IOStreamParam src) { return IMG_LoadPNM_IO(src); }
---
> inline Surface LoadPNM(IOStreamParam src)
> {
>   return Surface{IMG_LoadPNM_IO(src)};
> }
1782c1798,1801
< inline Surface LoadSVG(IOStreamParam src) { return IMG_LoadSVG_IO(src); }
---
> inline Surface LoadSVG(IOStreamParam src)
> {
>   return Surface{IMG_LoadSVG_IO(src)};
> }
1816c1835,1838
< inline Surface LoadQOI(IOStreamParam src) { return IMG_LoadQOI_IO(src); }
---
> inline Surface LoadQOI(IOStreamParam src)
> {
>   return Surface{IMG_LoadQOI_IO(src)};
> }
1850c1872,1875
< inline Surface LoadTGA(IOStreamParam src) { return IMG_LoadTGA_IO(src); }
---
> inline Surface LoadTGA(IOStreamParam src)
> {
>   return Surface{IMG_LoadTGA_IO(src)};
> }
1884c1909,1912
< inline Surface LoadTIF(IOStreamParam src) { return IMG_LoadTIF_IO(src); }
---
> inline Surface LoadTIF(IOStreamParam src)
> {
>   return Surface{IMG_LoadTIF_IO(src)};
> }
1918c1946,1949
< inline Surface LoadXCF(IOStreamParam src) { return IMG_LoadXCF_IO(src); }
---
> inline Surface LoadXCF(IOStreamParam src)
> {
>   return Surface{IMG_LoadXCF_IO(src)};
> }
1952c1983,1986
< inline Surface LoadXPM(IOStreamParam src) { return IMG_LoadXPM_IO(src); }
---
> inline Surface LoadXPM(IOStreamParam src)
> {
>   return Surface{IMG_LoadXPM_IO(src)};
> }
1986c2020
< inline Surface LoadXV(IOStreamParam src) { return IMG_LoadXV_IO(src); }
---
> inline Surface LoadXV(IOStreamParam src) { return Surface{IMG_LoadXV_IO(src)}; }
2020c2054,2057
< inline Surface LoadWEBP(IOStreamParam src) { return IMG_LoadWEBP_IO(src); }
---
> inline Surface LoadWEBP(IOStreamParam src)
> {
>   return Surface{IMG_LoadWEBP_IO(src)};
> }
2031,2033d2067
<  * When done with the returned surface, the app should dispose of it with a
<  * call to Surface.Destroy().
<  *
2035,2036c2069
<  * @param width desired width of the generated surface, in pixels.
<  * @param height desired height of the generated surface, in pixels.
---
>  * @param size desired width and height of the generated surface, in pixels.
2043c2076
<   return IMG_LoadSizedSVG_IO(src, size);
---
>   return Surface(IMG_LoadSizedSVG_IO(src, size.x, size.y));
2053,2055d2085
<  * When done with the returned surface, the app should dispose of it with a
<  * call to Surface.Destroy().
<  *
2065c2095
<   return IMG_ReadXPMFromArray(xpm);
---
>   return Surface{IMG_ReadXPMFromArray(xpm)};
2087c2117
<   return IMG_ReadXPMFromArrayToRGB888(xpm);
---
>   return Surface{IMG_ReadXPMFromArrayToRGB888(xpm)};
2102,2103d2131
<  *
<  * @sa SaveAVIF
2127,2128d2154
<  *
<  * @sa SaveAVIF
2171,2172d2196
<  *
<  * @sa SavePNG
2174c2198,2200
< inline void SavePNG(SurfaceParam surface, IOStreamParam dst, bool closeio)
---
> inline void SavePNG(SurfaceParam surface,
>                     IOStreamParam dst,
>                     bool closeio = false)
2191,2192d2216
<  *
<  * @sa SaveJPG
2216,2217d2239
<  *
<  * @sa SaveJPG
2304c2326
<   Animation(IOStreamParam src, bool closeio)
---
>   Animation(IOStreamParam src, bool closeio = false)
2345d2366
<    * @sa Animation.Animation
2350c2371,2374
<   int GetWidth() const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Get the width in pixels.
>    */
>   int GetWidth() const { return get()->w; }
2352c2376,2379
<   int GetHeight() const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Get the height in pixels.
>    */
>   int GetHeight() const { return get()->h; }
2354c2381,2384
<   Point GetSize() const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Get the size in pixels.
>    */
>   Point GetSize() const { return Point(GetWidth(), GetHeight()); }
2356c2386,2389
<   int GetCount() const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Return the number of frames.
>    */
>   int GetCount() const { return m_resource->count; }
2358c2391,2396
<   Surface GetFrame(int index) const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Return the frame image under given index.
>    *
>    * @param index the index to get frame, within [0, GetCount() - 1]
>    */
>   SurfaceRaw GetFrame(int index) const { return m_resource->frames[index]; }
2360c2398,2403
<   int GetDelay(int index) const { static_assert(false, "Not implemented"); }
---
>   /**
>    * Return the frame delay under given index.
>    *
>    * @param index the index to get frame, within [0, GetCount() - 1]
>    */
>   int GetDelay(int index) const { return m_resource->delays[index]; }
2419c2462
< inline Animation LoadAnimation(IOStreamParam src, bool closeio)
---
> inline Animation LoadAnimation(IOStreamParam src, bool closeio = false)
2449d2491
<  * @sa Animation.Animation
2456c2498
<   return IMG_LoadAnimationTyped_IO(src, closeio, type);
---
>   return Animation(IMG_LoadAnimationTyped_IO(src, closeio, type));
2469d2510
<  * @sa Animation.Animation
2494d2534
<  * @sa Animation.Animation
2498c2538
< inline AnimationRef LoadGIFAnimation(IOStreamParam src)
---
> inline Animation LoadGIFAnimation(IOStreamParam src)
2500c2540
<   return IMG_LoadGIFAnimation_IO(src);
---
>   return Animation(IMG_LoadGIFAnimation_IO(src));
2517d2556
<  * @sa Animation.Animation
2521c2560
< inline AnimationRef LoadWEBPAnimation(IOStreamParam src)
---
> inline Animation LoadWEBPAnimation(IOStreamParam src)
2523c2562
<   return IMG_LoadWEBPAnimation_IO(src);
---
>   return Animation{IMG_LoadWEBPAnimation_IO(src)};
2528a2568,2569
> 
> #endif // defined(SDL3PP_ENABLE_IMAGE) || defined(SDL3PP_DOC)
