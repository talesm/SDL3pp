17c17
<  * @defgroup CategoryGamepad Category Gamepad
---
>  * @defgroup CategoryGamepad Gamepad Support
494,495c494
<    *          is available; call GetError() for more information. This should be
<    *          freed with free() when it is no longer needed.
---
>    *          is available; call GetError() for more information.
1235,1236d1233
<  * @param count a pointer filled in with the number of mappings returned, can be
<  *              nullptr.
1238,1240c1235
<  *          failure; call GetError() for more information. This is a single
<  *          allocation that should be freed with free() when it is no longer
<  *          needed.
---
>  *          failure; call GetError() for more information.
1244c1239,1244
< inline OwnArray<char*> GetGamepadMappings() { return SDL_GetGamepadMappings(); }
---
> inline OwnArray<char*> GetGamepadMappings()
> {
>   int count;
>   auto data = SDL_GetGamepadMappings(&count);
>   return OwnArray<char*>(data);
> }
1251,1252c1251
<  *          information. This should be freed with free() when it is no longer
<  *          needed.
---
>  *          information.
1261c1260
<   return SDL_GetGamepadMappingForGUID(guid);
---
>   return StringResult(SDL_GetGamepadMappingForGUID(guid));
1271,1272c1270
<  *          available; call GetError() for more information. This should be
<  *          freed with free() when it is no longer needed.
---
>  *          available; call GetError() for more information.
1283c1281
<   return SDL_GetGamepadMapping(gamepad);
---
>   return StringResult(SDL_GetGamepadMapping(gamepad));
1325,1326d1322
<  * @param count a pointer filled in with the number of gamepads returned, may be
<  *              nullptr.
1328,1329c1324
<  *          call GetError() for more information. This should be freed with
<  *          free() when it is no longer needed.
---
>  *          call GetError() for more information.
1336c1331,1336
< inline OwnArray<JoystickID> GetGamepads() { return SDL_GetGamepads(); }
---
> inline OwnArray<JoystickID> GetGamepads()
> {
>   int count;
>   auto r = reinterpret_cast<JoystickID*>(SDL_GetGamepads(&count));
>   return OwnArray<JoystickID>(r, count);
> }
1576c1576
<   return CheckError(SDL_GetGamepadFromID(instance_id));
---
>   return {CheckError(SDL_GetGamepadFromID(instance_id))};
1592c1592
<   return SDL_GetGamepadFromPlayerIndex(player_index);
---
>   return {SDL_GetGamepadFromPlayerIndex(player_index)};
1621c1621
<   return CheckError(SDL_GetGamepadProperties(gamepad));
---
>   return {CheckError(SDL_GetGamepadProperties(gamepad))};
1992c1992
<   return SDL_GetGamepadJoystick(gamepad);
---
>   return {SDL_GetGamepadJoystick(gamepad)};
